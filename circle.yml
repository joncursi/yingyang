checkout:
  post:
    - git submodule update --init
machine:
  node:
    version: 9.2.1
  services:
     - docker
  timezone:
    America/New_York
dependencies:
  cache_directories:
    - node_modules
  override:
    - docker pull etops/codeclimate
    - npm install -g flow-coverage-report
    - npm install
test:
  override:
    - npm run test:unit
  post:
    - npm run codeclimate:ci
    - npm run coverage
general:
  artifacts:
    - coverage/coverage-final.json
    - coverage/flow-report
    - coverage/lcov-report
    - coverage/lcov.info
